\hypertarget{charclass_8hpp_source}{}\doxysection{charclass.\+hpp}
\label{charclass_8hpp_source}\index{src/rematch/parsing/charclass.hpp@{src/rematch/parsing/charclass.hpp}}
\mbox{\hyperlink{charclass_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ CHARCLASS\_BUILDER\_HPP}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ CHARCLASS\_BUILDER\_HPP}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{comment}{//\#include\ "{}parsing/charclass.hpp"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <set>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <ostream>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <boost/functional/hash.hpp>}\ \textcolor{comment}{//\ For\ boost::hash\_combine}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{REmatchParser_8h}{parsing/grammar/autogenerated/REmatchParser.h}}"{}}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacerematch}{rematch}}\ \{}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrematch_1_1CharRange}{CharRange}}\ \{}
\DoxyCodeLine{00016\ \ \ \mbox{\hyperlink{structrematch_1_1CharRange_a5ee9a1f940dd20c1700e97163fade166}{CharRange}}()\ :\ \mbox{\hyperlink{structrematch_1_1CharRange_a0132472a798eefc5366bee86ea28604c}{lo}}(0),\ \mbox{\hyperlink{structrematch_1_1CharRange_ac5bc9eead7cee27243e9a768f6876bad}{hi}}(0)\ \{\}}
\DoxyCodeLine{00017\ \ \ \mbox{\hyperlink{structrematch_1_1CharRange_a7918e4cc204cd7d1adc4aad3a14d8ccb}{CharRange}}(\textcolor{keywordtype}{char}\ l,\ \textcolor{keywordtype}{char}\ h):\ \mbox{\hyperlink{structrematch_1_1CharRange_a0132472a798eefc5366bee86ea28604c}{lo}}(l),\ \mbox{\hyperlink{structrematch_1_1CharRange_ac5bc9eead7cee27243e9a768f6876bad}{hi}}(h)\ \{\}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structrematch_1_1CharRange_a41db376ee37d8af0a6f12cd82f7059e7}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structrematch_1_1CharRange}{CharRange}}\&\ rhs)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structrematch_1_1CharRange_a0132472a798eefc5366bee86ea28604c}{lo}}\ ==\ rhs.\mbox{\hyperlink{structrematch_1_1CharRange_a0132472a798eefc5366bee86ea28604c}{lo}}\ \&\&\ \mbox{\hyperlink{structrematch_1_1CharRange_ac5bc9eead7cee27243e9a768f6876bad}{hi}}\ ==\ rhs.\mbox{\hyperlink{structrematch_1_1CharRange_ac5bc9eead7cee27243e9a768f6876bad}{hi}};\ \}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{structrematch_1_1CharRange_a0132472a798eefc5366bee86ea28604c}{lo}};}
\DoxyCodeLine{00022\ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{structrematch_1_1CharRange_ac5bc9eead7cee27243e9a768f6876bad}{hi}};}
\DoxyCodeLine{00023\ \};}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structrematch_1_1CharRangeLess}{CharRangeLess}}\ \{}
\DoxyCodeLine{00026\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structrematch_1_1CharRangeLess_a7fe25c04353e4953c330cfcd3409bde9}{operator()}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structrematch_1_1CharRange}{CharRange}}\ \&a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structrematch_1_1CharRange}{CharRange}}\ \&b)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordflow}{return}\ a.\mbox{\hyperlink{structrematch_1_1CharRange_ac5bc9eead7cee27243e9a768f6876bad}{hi}}\ <\ b.\mbox{\hyperlink{structrematch_1_1CharRange_a0132472a798eefc5366bee86ea28604c}{lo}};}
\DoxyCodeLine{00028\ \ \ \}}
\DoxyCodeLine{00029\ \};}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacerematch_ab06e30c6c172d9723f1c986fa7386a61}{CharRangeSet}}\ =\ std::set<CharRange,\ CharRangeLess>;}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}\ \{}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }std::hash<\mbox{\hyperlink{namespacerematch}{rematch}}::\mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}>;}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00039\ \ \ int\ nchars;}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{namespacerematch_ab06e30c6c172d9723f1c986fa7386a61}{CharRangeSet}}\ ranges;}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}();}
\DoxyCodeLine{00044\ \ \ \textcolor{comment}{//\ Shorthand\ constructors}}
\DoxyCodeLine{00045\ \ \ \mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}(char\ c);}
\DoxyCodeLine{00046\ \ \ \mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}(char\ l,\ char\ h);}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ using\ \mbox{\hyperlink{classrematch_1_1CharClass_a401c334d3b9fda0befa4aaeae078044c}{iterator}}\ =\ CharRangeSet::iterator;}
\DoxyCodeLine{00049\ \ \ \mbox{\hyperlink{classrematch_1_1CharClass_a401c334d3b9fda0befa4aaeae078044c}{iterator}}\ \mbox{\hyperlink{classrematch_1_1CharClass_a3e0384cde894a7ae470c1230144800b8}{begin}}()\ \{\textcolor{keywordflow}{return}\ ranges.begin();\}}
\DoxyCodeLine{00050\ \ \ \mbox{\hyperlink{classrematch_1_1CharClass_a401c334d3b9fda0befa4aaeae078044c}{iterator}}\ \mbox{\hyperlink{classrematch_1_1CharClass_ac20e6a241c66086b29207a6f936c0324}{end}}()\ \{\textcolor{keywordflow}{return}\ ranges.end();\}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrematch_1_1CharClass_a7596656b7486daf3a2035a38e42a9eb3}{add\_charclass}}(\mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}*\ cc);}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrematch_1_1CharClass_ae76af5c1db78c672c1256a80379132b3}{add\_range}}(\textcolor{keywordtype}{char}\ l,\ \textcolor{keywordtype}{char}\ h);}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrematch_1_1CharClass_a3d4ca3d4441bd3b9fa314ac26d929eaa}{add\_single}}(\textcolor{keywordtype}{char}\ c);}
\DoxyCodeLine{00055\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classrematch_1_1CharClass_aa658309ba2cfbddca15822a5e1b542ad}{negate}}();}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}*\ \mbox{\hyperlink{classrematch_1_1CharClass_a5a1ba71d7f52deb98ff30706ca2b77e2}{intersect}}(\mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}*\ cc);}
\DoxyCodeLine{00058\ \ \ \mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}*\ \mbox{\hyperlink{classrematch_1_1CharClass_ae67ce4151e94c176cb9354e2662f1d2b}{set\_minus}}(\mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}*\ cc);}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classrematch_1_1CharClass_a271971df84b4ca8bb915fd013e821272}{size}}()\textcolor{keyword}{\ const\ }\{\textcolor{keywordflow}{return}\ nchars;\}}
\DoxyCodeLine{00061\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrematch_1_1CharClass_a37df11324fced0cb1ba9f71007d1764d}{empty}}()\textcolor{keyword}{\ const\ }\{\textcolor{keywordflow}{return}\ nchars\ ==\ 0;\}}
\DoxyCodeLine{00062\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrematch_1_1CharClass_a8382dd86f772b03dc586d6d90eeb6090}{contains}}(\textcolor{keywordtype}{char}\ c);}
\DoxyCodeLine{00063\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrematch_1_1CharClass_aab6e72d6ed26c8a32fbbc39bfc7e1eb0}{is\_dot}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ nchars\ ==\ CHAR\_MAX+1;\}}
\DoxyCodeLine{00064\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classrematch_1_1CharClass_a1192a7a8315f9c0196f3a54fe3eee1a2}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}\&\ rhs)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \textcolor{keyword}{friend}\ std::ostream\&\ \mbox{\hyperlink{classrematch_1_1CharClass_aa94c7e16148c0b409e1d46fc4824d9f2}{operator<<}}(std::ostream\ \&os,\ \mbox{\hyperlink{classrematch_1_1CharClass}{CharClass}}\ \textcolor{keyword}{const}\ \&b);}
\DoxyCodeLine{00067\ \};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{comment}{//\ Hashing\ for\ the\ class}}
\DoxyCodeLine{00072\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacestd}{std}}\ \{}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00075\ \textcolor{keyword}{struct\ }hash<\mbox{\hyperlink{namespacerematch}{rematch}}::CharClass>\ \{}
\DoxyCodeLine{00076\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structstd_1_1hash_3_01rematch_1_1CharClass_01_4_a95e440d235c4e87e188053941de28d0a}{operator()}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classrematch_1_1CharClass}{rematch::CharClass}}\&\ ch)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ res\ =\ 0;}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\ \&elem:\ ch.ranges)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ boost::hash\_combine(res,\ elem.lo);}
\DoxyCodeLine{00082\ \ \ \ \ \ \ boost::hash\_combine(res,\ elem.hi);}
\DoxyCodeLine{00083\ \ \ \ \ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00086\ \ \ \}}
\DoxyCodeLine{00087\ \};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \}\ \textcolor{comment}{//\ end\ namespace\ std}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ end\ charclass\_hpp}}

\end{DoxyCode}
